cd ~/ros2_autonomous_robot
colcon build
source install/setup.bash

# Terminal A:
ros2 run turtlesim turtlesim_node

# Terminal B:
ros2 run autonomous_turtle avoid_walls

# Kill all Gazebo
killall -9 gzserver gzclient robot_state_publisher rviz2
pkill -f ros
pkill -f gazebo

# running the code:
ros2 topic pub /cmd_vel geometry_msgs/Twist "{linear: {x: 0.15}, angular: {z: 0.4}}"

#TF Tree
ros2 run tf2_tools view_frames
xdg-open frames.pdf

# 1) Run the simulator
source install/setup.bash
export LIBGL_ALWAYS_SOFTWARE=1
export ROS_SIM_TIME=true
ros2 launch autonomous_robot_description sim.launch.py use_sim_time:=True

# 2) SLAM
export ROS_SIM_TIME=true
ros2 launch autonomous_turtle slam.launch.py use_sim_time:=True

# 3) Navigation
export ROS_SIM_TIME=true
ros2 launch autonomous_turtle nav2.launch.py use_sim_time:=True

# 4) Rviz2 
rviz2 use_sim_time:=True

# 5) Viz setup:
fixed frame: map
add:
1. Map
2. LaserScan
3. TF
4. RobotModel
5. Path - local path
6. Path - Global path
6. Pose -> goal pose

# Use the keyboard to control:
ros2 run teleop_twist_keyboard teleop_twist_keyboard


# kill hidden processes
pkill -f ros
pkill -f gazebo